
  
package com.yy.leetcodeplugin.temp.leetcode.editor.cn;

//2025-03-05 09:43:24 
//æ°´æœæˆç¯®

import java.util.HashMap;
import java.util.HashSet;
import java.util.Map;
import java.util.Set;

public class FruitIntoBaskets{
    public static void main(String[] args) {
         Solution solution = new FruitIntoBaskets().new Solution();
    }
        //leetcode submit region begin(Prohibit modification and deletion)
class Solution {
    public int totalFruit(int[] fruits) {
        /**
         * æ»‘åŠ¨çª—å£ã€‚
         * 1. ç§»åŠ¨å³è¾¹ç•Œï¼Œçª—å£å†…åªèƒ½æœ‰ä¸¤ç§æ°´æœã€‚
         * 2. å‡ºç°ç¬¬ä¸‰ç§å°±ç§»åŠ¨å·¦çª—å£ï¼Œç›´åˆ°åªå‰©ä¸¤ç§æ°´æœã€‚
         * 3.å³è¾¹ç•Œå†æ¬¡å¼€å§‹å³ç§»åŠ¨ï¼Œç›´åˆ°å‡ºç°ç¬¬ä¸‰ç§å†æ¬¡åœä¸‹
         */
        int max = 0;
        Map<Integer, Integer> types = new HashMap<>();
        int l = 0;
        int r = 0;

        for (r = 0; r < fruits.length; r++) {
            //ç¬¬ä¸€æ­¥å…ˆåŠ è¿›çª—å£
            Integer existing = types.getOrDefault(fruits[r], 0);
            types.put(fruits[r], existing + 1);
            //æ£€æŸ¥çª—å£å¤§å°
            while (types.size() > 2) {
                Integer left = types.get(fruits[l]);
                if (left - 1 == 0) {
                    types.remove(fruits[l]);
                } else {
                    types.put(fruits[l], left - 1);
                }
                l++;
            }

//            System.out.println("l=" + l + " r=" + r + " length=" + (r - l + 1));
            max = Math.max(max, r - l + 1);


        }
        return max;
        
    }
}
//leetcode submit region end(Prohibit modification and deletion)

}

  //ä½ æ­£åœ¨æ¢è®¿ä¸€å®¶å†œåœºï¼Œå†œåœºä»å·¦åˆ°å³ç§æ¤äº†ä¸€æ’æœæ ‘ã€‚è¿™äº›æ ‘ç”¨ä¸€ä¸ªæ•´æ•°æ•°ç»„ fruits è¡¨ç¤ºï¼Œå…¶ä¸­ fruits[i] æ˜¯ç¬¬ i æ£µæ ‘ä¸Šçš„æ°´æœ ç§ç±» ã€‚ 
//
// ä½ æƒ³è¦å°½å¯èƒ½å¤šåœ°æ”¶é›†æ°´æœã€‚ç„¶è€Œï¼Œå†œåœºçš„ä¸»äººè®¾å®šäº†ä¸€äº›ä¸¥æ ¼çš„è§„çŸ©ï¼Œä½ å¿…é¡»æŒ‰ç…§è¦æ±‚é‡‡æ‘˜æ°´æœï¼š 
//
// 
// ä½ åªæœ‰ ä¸¤ä¸ª ç¯®å­ï¼Œå¹¶ä¸”æ¯ä¸ªç¯®å­åªèƒ½è£… å•ä¸€ç±»å‹ çš„æ°´æœã€‚æ¯ä¸ªç¯®å­èƒ½å¤Ÿè£…çš„æ°´æœæ€»é‡æ²¡æœ‰é™åˆ¶ã€‚ 
// ä½ å¯ä»¥é€‰æ‹©ä»»æ„ä¸€æ£µæ ‘å¼€å§‹é‡‡æ‘˜ï¼Œä½ å¿…é¡»ä» æ¯æ£µ æ ‘ï¼ˆåŒ…æ‹¬å¼€å§‹é‡‡æ‘˜çš„æ ‘ï¼‰ä¸Š æ°å¥½æ‘˜ä¸€ä¸ªæ°´æœ ã€‚é‡‡æ‘˜çš„æ°´æœåº”å½“ç¬¦åˆç¯®å­ä¸­çš„æ°´æœç±»å‹ã€‚æ¯é‡‡æ‘˜ä¸€æ¬¡ï¼Œä½ å°†ä¼šå‘å³ç§»åŠ¨åˆ°
//ä¸‹ä¸€æ£µæ ‘ï¼Œå¹¶ç»§ç»­é‡‡æ‘˜ã€‚ 
// ä¸€æ—¦ä½ èµ°åˆ°æŸæ£µæ ‘å‰ï¼Œä½†æ°´æœä¸ç¬¦åˆç¯®å­çš„æ°´æœç±»å‹ï¼Œé‚£ä¹ˆå°±å¿…é¡»åœæ­¢é‡‡æ‘˜ã€‚ 
// 
//
// ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ fruits ï¼Œè¿”å›ä½ å¯ä»¥æ”¶é›†çš„æ°´æœçš„ æœ€å¤§ æ•°ç›®ã€‚ 
//
// 
//
// ç¤ºä¾‹ 1ï¼š 
//
// 
//è¾“å…¥ï¼šfruits = [1,2,1]
//è¾“å‡ºï¼š3
//è§£é‡Šï¼šå¯ä»¥é‡‡æ‘˜å…¨éƒ¨ 3 æ£µæ ‘ã€‚
// 
//
// ç¤ºä¾‹ 2ï¼š 
//
// 
//è¾“å…¥ï¼šfruits = [0,1,2,2]
//è¾“å‡ºï¼š3
//è§£é‡Šï¼šå¯ä»¥é‡‡æ‘˜ [1,2,2] è¿™ä¸‰æ£µæ ‘ã€‚
//å¦‚æœä»ç¬¬ä¸€æ£µæ ‘å¼€å§‹é‡‡æ‘˜ï¼Œåˆ™åªèƒ½é‡‡æ‘˜ [0,1] è¿™ä¸¤æ£µæ ‘ã€‚
// 
//
// ç¤ºä¾‹ 3ï¼š 
//
// 
//è¾“å…¥ï¼šfruits = [1,2,3,2,2]
//è¾“å‡ºï¼š4
//è§£é‡Šï¼šå¯ä»¥é‡‡æ‘˜ [2,3,2,2] è¿™å››æ£µæ ‘ã€‚
//å¦‚æœä»ç¬¬ä¸€æ£µæ ‘å¼€å§‹é‡‡æ‘˜ï¼Œåˆ™åªèƒ½é‡‡æ‘˜ [1,2] è¿™ä¸¤æ£µæ ‘ã€‚
// 
//
// ç¤ºä¾‹ 4ï¼š 
//
// 
//è¾“å…¥ï¼šfruits = [3,3,3,1,2,1,1,2,3,3,4]
//è¾“å‡ºï¼š5
//è§£é‡Šï¼šå¯ä»¥é‡‡æ‘˜ [1,2,1,1,2] è¿™äº”æ£µæ ‘ã€‚
// 
//
// 
//
// æç¤ºï¼š 
//
// 
// 1 <= fruits.length <= 10âµ 
// 0 <= fruits[i] < fruits.length 
// 
//
// Related Topics æ•°ç»„ å“ˆå¸Œè¡¨ æ»‘åŠ¨çª—å£ ğŸ‘ 725 ğŸ‘ 0
