
  
package com.yy.leetcodeplugin.temp.leetcode.editor.cn;

//2025-01-03 16:56:04 
//çŸ©é˜µä¸­å’Œèƒ½è¢« K æ•´é™¤çš„è·¯å¾„

public class PathsInMatrixWhoseSumIsDivisibleByK{
    public static void main(String[] args) {
         Solution solution = new PathsInMatrixWhoseSumIsDivisibleByK().new Solution();
    }

    //leetcode submit region begin(Prohibit modification and deletion)
    class Solution {
        private static final int MOD = 1_000_000_000 + 7;
        public int numberOfPaths(int[][] grid, int k) {
            /**
             * çœ‹çš„é¢˜è§£ã€‚åŠ¨æ€è§„åˆ’ï¼Œdpæ•°ç»„è¦å†åŠ ä¸€ä¸ªç»´åº¦ï¼ˆè·¯å¾„å’Œå¯¹æ¨¡kçš„ç»“æœï¼‰
             * dp[i][j][v] è¡¨ç¤ºä»èµ·ç‚¹åˆ°ijä½ç½®çš„è·¯å¾„å’Œå¯¹æ¨¡kçš„ç»“æœä¸ºvçš„è·¯å¾„æ•°ç›®
             *      dp[i][j][(v+grid[i][j])mod k] = dp[i][j-1][v] + dp[i-1][j][v];
             *      æ€ä¹ˆç†è§£è¿™ä¸ªè¡¨è¾¾å¼:
             *          åˆ°è¾¾ä¸Šæ–¹æ ¼å­æ—¶ï¼Œæ¨¡kå€¼ä¸ºvçš„è·¯å¾„æ•°é‡æ˜¯dp[i][j-1][v]
             *          åˆ°è¾¾å·¦è¾¹æ ¼å­æ—¶ï¼Œæ¨¡kå€¼ä¸ºvçš„è·¯å¾„æ•°é‡æ˜¯dp[i-1][j][v]
             *          é‚£ä¹ˆä»è¿™ä¸¤ç§æƒ…å†µåˆ°è¾¾å½“å‰æ ¼å­æ—¶ï¼š
             *              åŸæ¥æ—¶æ¨¡kç»“æœæ—¶v,ç°åœ¨å°±æ˜¯ (v+grid[i][j])mod k
             */

            int m = grid.length;
            int n = grid[0].length;

            //æŠŠçŸ©é˜µæ‰©å……æ–¹ä¾¿å¤„ç†è¾¹ç•Œæ¡ä»¶.æ­¤æ—¶dpå°æ ‡ä¸ç­‰äºå½“å‰æ ¼å­çš„ä¸‹æ ‡ã€‚ä¾‹å¦‚dp[1][1]å¯ä»¥ç†è§£ä¸ºç¬¬ä¸€è¡Œç¬¬ä¸€åˆ—çš„æ ¼å­ï¼Œå€¼æ˜¯grid[0][0]
            int[][][] dp = new int[m + 1][n + 1][k];
            /**
             * æ€ä¹ˆåˆå§‹åŒ–ï¼Ÿ
             *    ä»èµ·ç‚¹èµ°åˆ°èµ·ç‚¹ï¼Œè·¯å¾„å’Œçš„æ¨¡kç­‰äºgrid[1][1]%k çš„è·¯å¾„åªæœ‰ä¸€æ¡ï¼Œå³  dp[1][1][grid[1][1]%k] = 1ã€‚
             *    å…¶ä»–æƒ…å†µéƒ½æ˜¯0ï¼Œå³æ•°ç»„çš„é»˜è®¤å€¼ï¼Œä¸ç”¨å†è®¾ç½®ã€‚
             *
             *    è¦è®© dp[1][1][grid[1][1]%k] = 1ï¼Œå¯ä»¥è®¾ç½® dp[1][0][0] =1 æˆ–è€…ï¼ˆdp[0][1][0] =1 ï¼‰
             *
             */

            dp[1][0][0] = 1;

            for (int i = 0; i < m; i++) {
                for (int j = 0; j < n; j++) {
                    for (int l = 0; l < k; l++) {
                        dp[i + 1][j + 1][(l + grid[i][j]) % k] = (dp[i + 1][j][l] + dp[i][j + 1][l]) % MOD;
                    }

                }
            }
            return dp[m][n][0];
        }
    }
//leetcode submit region end(Prohibit modification and deletion)

}

  //ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» 0 å¼€å§‹çš„ m x n æ•´æ•°çŸ©é˜µ grid å’Œä¸€ä¸ªæ•´æ•° k ã€‚ä½ ä»èµ·ç‚¹ (0, 0) å‡ºå‘ï¼Œæ¯ä¸€æ­¥åªèƒ½å¾€ ä¸‹ æˆ–è€…å¾€ å³ ï¼Œä½ æƒ³è¦åˆ°è¾¾ç»ˆç‚¹ 
//(m - 1, n - 1) ã€‚ 
//
// è¯·ä½ è¿”å›è·¯å¾„å’Œèƒ½è¢« k æ•´é™¤çš„è·¯å¾„æ•°ç›®ï¼Œç”±äºç­”æ¡ˆå¯èƒ½å¾ˆå¤§ï¼Œè¿”å›ç­”æ¡ˆå¯¹ 10â¹ + 7 å–ä½™ çš„ç»“æœã€‚ 
//
// 
//
// ç¤ºä¾‹ 1ï¼š 
//
// 
//
// è¾“å…¥ï¼šgrid = [[5,2,4],[3,0,5],[0,7,2]], k = 3
//è¾“å‡ºï¼š2
//è§£é‡Šï¼šæœ‰ä¸¤æ¡è·¯å¾„æ»¡è¶³è·¯å¾„ä¸Šå…ƒç´ çš„å’Œèƒ½è¢« k æ•´é™¤ã€‚
//ç¬¬ä¸€æ¡è·¯å¾„ä¸ºä¸Šå›¾ä¸­ç”¨çº¢è‰²æ ‡æ³¨çš„è·¯å¾„ï¼Œå’Œä¸º 5 + 2 + 4 + 5 + 2 = 18 ï¼Œèƒ½è¢« 3 æ•´é™¤ã€‚
//ç¬¬äºŒæ¡è·¯å¾„ä¸ºä¸Šå›¾ä¸­ç”¨è“è‰²æ ‡æ³¨çš„è·¯å¾„ï¼Œå’Œä¸º 5 + 3 + 0 + 5 + 2 = 15 ï¼Œèƒ½è¢« 3 æ•´é™¤ã€‚
// 
//
// ç¤ºä¾‹ 2ï¼š 
// è¾“å…¥ï¼šgrid = [[0,0]], k = 5
//è¾“å‡ºï¼š1
//è§£é‡Šï¼šçº¢è‰²æ ‡æ³¨çš„è·¯å¾„å’Œä¸º 0 + 0 = 0 ï¼Œèƒ½è¢« 5 æ•´é™¤ã€‚
// 
//
// ç¤ºä¾‹ 3ï¼š 
// è¾“å…¥ï¼šgrid = [[7,3,4,9],[2,3,6,2],[2,3,7,0]], k = 1
//è¾“å‡ºï¼š10
//è§£é‡Šï¼šæ¯ä¸ªæ•°å­—éƒ½èƒ½è¢« 1 æ•´é™¤ï¼Œæ‰€ä»¥æ¯ä¸€æ¡è·¯å¾„çš„å’Œéƒ½èƒ½è¢« k æ•´é™¤ã€‚
// 
//
// 
//
// æç¤ºï¼š 
//
// 
// m == grid.length 
// n == grid[i].length 
// 1 <= m, n <= 5 * 10â´ 
// 1 <= m * n <= 5 * 10â´ 
// 0 <= grid[i][j] <= 100 
// 1 <= k <= 50 
// 
//
// Related Topics æ•°ç»„ åŠ¨æ€è§„åˆ’ çŸ©é˜µ ğŸ‘ 57 ğŸ‘ 0
