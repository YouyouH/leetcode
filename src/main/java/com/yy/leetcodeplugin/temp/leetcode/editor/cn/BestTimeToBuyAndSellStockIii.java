
  
package com.yy.leetcodeplugin.temp.leetcode.editor.cn;

//2025-01-27 23:56:34 
//ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº III

public class BestTimeToBuyAndSellStockIii{
    public static void main(String[] args) {
         Solution solution = new BestTimeToBuyAndSellStockIii().new Solution();
    }
        //leetcode submit region begin(Prohibit modification and deletion)
class Solution {
    public int maxProfit(int[] prices) {
        /**
         * å®šä¹‰ dpä¸ºç¬¬iå¤©çš„æ—¶å€™ï¼Œäº¤æ˜“äº†0/1/2æ¬¡çš„æƒ…å†µä¸‹ï¼ŒæŒæœ‰/ä¸æŒæœ‰ çš„æƒ…å†µä¸‹çš„åˆ©æ¶¦æœ€å¤§å€¼
         * dp[i][j][0]
         * dp[i][j][1]
         *
         */
        int size = prices.length;
        int[][][] dp = new int[size][3][2];

        for (int i = 0; i < 3; i++) {
            dp[0][i][0] = -prices[0];
            dp[0][i][1] = 0;
        }

        for (int i = 1; i < size; i++) {
            for (int j = 1; j < 3; j++) {
                /**
                 * FIXME æ³¨æ„ä¹°å…¥å–å‡ºç®—ä¸€æ¬¡äº¤æ˜“ã€‚
                 *     å¯¹äºå½“å‰æŒæœ‰çš„æƒ…å†µï¼Œå¯ä»¥ä»ä¸¤ç§æƒ…å†µè½¬ç§»ï¼š
                 *          å‰ä¸€å¤©æŒæœ‰ï¼šdp[i-1][j][0]
                 *          å‰ä¸€å¤©ä¸æŒæœ‰ï¼šdp[i-1][j-1][1]-prices[i]ï¼Œä»Šå¤©ä¹°å…¥ã€‚ä»Šå¤©ä¹°å…¥äº¤æ˜“æ¬¡æ•°è¦åŠ ä¸€ï¼Œæ‰€ä»¥å‰ä¸€å¤©æ˜¯j-1ã€‚ä»Šå¤©ä¹°å…¥æ˜¯æ–°çš„äº¤æ˜“çš„å¼€å§‹ï¼Œæ‰€ä»¥jè¦å˜ã€‚
                 *     å¯¹äºå½“å‰ä¸æŒæœ‰çš„æƒ…å†µï¼šå¯ä»¥ä»ä¸¤ç§æƒ…å†µè½¬ç§»ï¼š
                 *          å‰ä¸€å¤©æŒæœ‰ï¼šdp[i-1][j][0]+prices[i] ä»Šå¤©å–å‡ºèµšé’±ã€‚ å‰ä¸€ä¸ªçŠ¶æ€æŒæœ‰åˆ°ä»Šå¤©çŠ¶æ€å–å‡ºï¼Œå±äºåŒä¸€ä¸ªäº¤æ˜“ï¼Œæ‰€ä»¥jä¸å˜ã€‚
                 *          å‰ä¸€å¤©ä¸æŒæœ‰ï¼šdp[i-1][j][1]
                 */

                dp[i][j][0] = Math.max(dp[i-1][j][0], dp[i-1][j-1][1] - prices[i]);
                dp[i][j][1] = Math.max(dp[i-1][j][0] + prices[i], dp[i-1][j][1]);
            }
        }
        return dp[size-1][2][1];

    }
}
//leetcode submit region end(Prohibit modification and deletion)

}

  //ç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œå®ƒçš„ç¬¬ i ä¸ªå…ƒç´ æ˜¯ä¸€æ”¯ç»™å®šçš„è‚¡ç¥¨åœ¨ç¬¬ i å¤©çš„ä»·æ ¼ã€‚ 
//
// è®¾è®¡ä¸€ä¸ªç®—æ³•æ¥è®¡ç®—ä½ æ‰€èƒ½è·å–çš„æœ€å¤§åˆ©æ¶¦ã€‚ä½ æœ€å¤šå¯ä»¥å®Œæˆ ä¸¤ç¬” äº¤æ˜“ã€‚ 
//
// æ³¨æ„ï¼šä½ ä¸èƒ½åŒæ—¶å‚ä¸å¤šç¬”äº¤æ˜“ï¼ˆä½ å¿…é¡»åœ¨å†æ¬¡è´­ä¹°å‰å‡ºå”®æ‰ä¹‹å‰çš„è‚¡ç¥¨ï¼‰ã€‚ 
//
// 
//
// ç¤ºä¾‹ 1: 
//
// 
//è¾“å…¥ï¼šprices = [3,3,5,0,0,3,1,4]
//è¾“å‡ºï¼š6
//è§£é‡Šï¼šåœ¨ç¬¬ 4 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 0ï¼‰çš„æ—¶å€™ä¹°å…¥ï¼Œåœ¨ç¬¬ 6 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 3ï¼‰çš„æ—¶å€™å–å‡ºï¼Œè¿™ç¬”äº¤æ˜“æ‰€èƒ½è·å¾—åˆ©æ¶¦ = 3-0 = 3 ã€‚
//Â     éšåï¼Œåœ¨ç¬¬ 7 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 1ï¼‰çš„æ—¶å€™ä¹°å…¥ï¼Œåœ¨ç¬¬ 8 å¤© ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 4ï¼‰çš„æ—¶å€™å–å‡ºï¼Œè¿™ç¬”äº¤æ˜“æ‰€èƒ½è·å¾—åˆ©æ¶¦ = 4-1 = 3 ã€‚ 
//
// ç¤ºä¾‹ 2ï¼š 
//
// 
//è¾“å…¥ï¼šprices = [1,2,3,4,5]
//è¾“å‡ºï¼š4
//è§£é‡Šï¼šåœ¨ç¬¬ 1 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 1ï¼‰çš„æ—¶å€™ä¹°å…¥ï¼Œåœ¨ç¬¬ 5 å¤© ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 5ï¼‰çš„æ—¶å€™å–å‡º, è¿™ç¬”äº¤æ˜“æ‰€èƒ½è·å¾—åˆ©æ¶¦ = 5-1 = 4 ã€‚ Â  
//Â     æ³¨æ„ä½ ä¸èƒ½åœ¨ç¬¬ 1 å¤©å’Œç¬¬ 2 å¤©æ¥è¿è´­ä¹°è‚¡ç¥¨ï¼Œä¹‹åå†å°†å®ƒä»¬å–å‡ºã€‚ Â  
//Â     å› ä¸ºè¿™æ ·å±äºåŒæ—¶å‚ä¸äº†å¤šç¬”äº¤æ˜“ï¼Œä½ å¿…é¡»åœ¨å†æ¬¡è´­ä¹°å‰å‡ºå”®æ‰ä¹‹å‰çš„è‚¡ç¥¨ã€‚
// 
//
// ç¤ºä¾‹ 3ï¼š 
//
// 
//è¾“å…¥ï¼šprices = [7,6,4,3,1] 
//è¾“å‡ºï¼š0 
//è§£é‡Šï¼šåœ¨è¿™ä¸ªæƒ…å†µä¸‹, æ²¡æœ‰äº¤æ˜“å®Œæˆ, æ‰€ä»¥æœ€å¤§åˆ©æ¶¦ä¸º 0ã€‚ 
//
// ç¤ºä¾‹ 4ï¼š 
//
// 
//è¾“å…¥ï¼šprices = [1]
//è¾“å‡ºï¼š0
// 
//
// 
//
// æç¤ºï¼š 
//
// 
// 1 <= prices.length <= 10âµ 
// 0 <= prices[i] <= 10âµ 
// 
//
// Related Topics æ•°ç»„ åŠ¨æ€è§„åˆ’ ğŸ‘ 1789 ğŸ‘ 0
