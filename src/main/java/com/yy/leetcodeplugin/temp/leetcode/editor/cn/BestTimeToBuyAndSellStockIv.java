
  
package com.yy.leetcodeplugin.temp.leetcode.editor.cn;

//2025-01-30 10:02:10 
//ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº IV

public class BestTimeToBuyAndSellStockIv{
    public static void main(String[] args) {
         Solution solution = new BestTimeToBuyAndSellStockIv().new Solution();
    }
        //leetcode submit region begin(Prohibit modification and deletion)
class Solution {
    public int maxProfit(int k, int[] prices) {
        /**
         * FIXME
         *  dp[i][k][2] //è¡¨ç¤ºå‰iå¤© æœ€å¤š äº¤æ˜“kæ¬¡ï¼Œåœ¨æŒæœ‰æˆ–è€…ä¸æŒæœ‰çš„æƒ…å†µä¸‹çš„æœ€å¤§åˆ©æ¶¦
         */
        int length = prices.length;
        int[][][] dp = new int[length][k + 1][2];

        //åˆå§‹åŒ–
        for (int i = 0; i < k + 1; i++) {
            //ç¬¬ä¸€å¤©æŒæœ‰
            dp[0][i][0] = -prices[0];
            //ç¬¬ä¸€å¤©ä¸æŒæœ‰
            dp[0][i][1] = 0;
        }

        for (int i = 1; i < length; i++) {
            for (int j = 1; j < k + 1; j++) {
                //å½“å‰æŒæœ‰      å‰ä¸€å¤©ä¹ŸæŒæœ‰,æ²¡æœ‰äº¤æ˜“   å‰ä¸€å¤©ä¸æŒæœ‰ï¼Œä»Šå¤©ä¹°å…¥ï¼Œæ–°å¢äº¤æ˜“
                dp[i][j][0] = Math.max(dp[i - 1][j][0], dp[i - 1][j - 1][1] - prices[i]);
                //å½“å‰ä¸æŒæœ‰    å‰ä¸€å¤©ä¹Ÿä¸æŒæœ‰ï¼Œæ²¡æœ‰äº¤æ˜“   å‰ä¸€å¤©æŒæœ‰ï¼Œä»Šå¤©å–å‡ºï¼Œæ²¡æœ‰æ–°çš„äº¤æ˜“ï¼ˆä¹°å…¥å–å‡ºæ‰æ˜¯æ–°çš„äº¤æ˜“ï¼‰
                dp[i][j][1] = Math.max(dp[i - 1][j][1], dp[i - 1][j][0] + prices[i]);
            }
        }
        return dp[length-1][k][1];

    }
}
//leetcode submit region end(Prohibit modification and deletion)

}

  //ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ prices å’Œä¸€ä¸ªæ•´æ•° k ï¼Œå…¶ä¸­ prices[i] æ˜¯æŸæ”¯ç»™å®šçš„è‚¡ç¥¨åœ¨ç¬¬ i å¤©çš„ä»·æ ¼ã€‚ 
//
// è®¾è®¡ä¸€ä¸ªç®—æ³•æ¥è®¡ç®—ä½ æ‰€èƒ½è·å–çš„æœ€å¤§åˆ©æ¶¦ã€‚ä½ æœ€å¤šå¯ä»¥å®Œæˆ k ç¬”äº¤æ˜“ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä½ æœ€å¤šå¯ä»¥ä¹° k æ¬¡ï¼Œå– k æ¬¡ã€‚ 
//
// æ³¨æ„ï¼šä½ ä¸èƒ½åŒæ—¶å‚ä¸å¤šç¬”äº¤æ˜“ï¼ˆä½ å¿…é¡»åœ¨å†æ¬¡è´­ä¹°å‰å‡ºå”®æ‰ä¹‹å‰çš„è‚¡ç¥¨ï¼‰ã€‚ 
//
// 
//
// ç¤ºä¾‹ 1ï¼š 
//
// 
//è¾“å…¥ï¼šk = 2, prices = [2,4,1]
//è¾“å‡ºï¼š2
//è§£é‡Šï¼šåœ¨ç¬¬ 1 å¤© (è‚¡ç¥¨ä»·æ ¼ = 2) çš„æ—¶å€™ä¹°å…¥ï¼Œåœ¨ç¬¬ 2 å¤© (è‚¡ç¥¨ä»·æ ¼ = 4) çš„æ—¶å€™å–å‡ºï¼Œè¿™ç¬”äº¤æ˜“æ‰€èƒ½è·å¾—åˆ©æ¶¦ = 4-2 = 2 ã€‚ 
//
// ç¤ºä¾‹ 2ï¼š 
//
// 
//è¾“å…¥ï¼šk = 2, prices = [3,2,6,5,0,3]
//è¾“å‡ºï¼š7
//è§£é‡Šï¼šåœ¨ç¬¬ 2 å¤© (è‚¡ç¥¨ä»·æ ¼ = 2) çš„æ—¶å€™ä¹°å…¥ï¼Œåœ¨ç¬¬ 3 å¤© (è‚¡ç¥¨ä»·æ ¼ = 6) çš„æ—¶å€™å–å‡º, è¿™ç¬”äº¤æ˜“æ‰€èƒ½è·å¾—åˆ©æ¶¦ = 6-2 = 4 ã€‚
//     éšåï¼Œåœ¨ç¬¬ 5 å¤© (è‚¡ç¥¨ä»·æ ¼ = 0) çš„æ—¶å€™ä¹°å…¥ï¼Œåœ¨ç¬¬ 6 å¤© (è‚¡ç¥¨ä»·æ ¼ = 3) çš„æ—¶å€™å–å‡º, è¿™ç¬”äº¤æ˜“æ‰€èƒ½è·å¾—åˆ©æ¶¦ = 3-0 = 3 
//ã€‚ 
//
// 
//
// æç¤ºï¼š 
//
// 
// 1 <= k <= 100 
// 1 <= prices.length <= 1000 
// 0 <= prices[i] <= 1000 
// 
//
// Related Topics æ•°ç»„ åŠ¨æ€è§„åˆ’ ğŸ‘ 1241 ğŸ‘ 0
